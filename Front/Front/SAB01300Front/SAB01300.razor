@page "/SAB01300"
@inherits R_Page

<R_StackLayout Class="mb-4">
    <R_Grid @ref="@_gridRef"
            DataSource="@CategoryViewModel.CategoryList"
            Pageable="true"
            R_ConductorGridSource="@_conGridCategoryRef"
            R_GridType="@R_eGridType.Original"
            AllowAddNewRow="true"
            AllowEditRow="true"
            AllowDeleteRow="true"
            R_ServiceGetListRecord="@GridCategory_ServiceGetListRecord">
        <R_GridColumns>
            <R_GridTextColumn FieldName="CategoryID" HeaderText="Category Id" R_EnableAdd></R_GridTextColumn>
            <R_GridTextColumn FieldName="CategoryName" HeaderText="Category Name" R_EnableAdd R_EnableEdit></R_GridTextColumn>
            <R_GridTextColumn FieldName="Description" R_EnableAdd R_EnableEdit></R_GridTextColumn>
        </R_GridColumns>
    </R_Grid>
</R_StackLayout>

<R_StackLayout>
    <h2>Product</h2>
</R_StackLayout>

<R_StackLayout Class="mb-3">
    <R_Grid @ref="@_gridProductRef"
            DataSource="@ProductViewModel.ProductList"
            Pageable="true"
            R_ConductorSource="@_conductorProductRef"
            R_GridType="@R_eGridType.Navigator"
            R_ServiceGetListRecord="@GridProduct_ServiceGetListRecord">
        <R_GridColumns>
            <R_GridNumericColumn FieldName="ProductID" HeaderText="Product Id"></R_GridNumericColumn>
            <R_GridTextColumn FieldName="ProductName" HeaderText="Product Name"></R_GridTextColumn>
        </R_GridColumns>
    </R_Grid>
</R_StackLayout>

<R_StackLayout>
    <h3>Product Detail</h3>
</R_StackLayout>

<R_StackLayout>
    <R_StackLayout Row>
        <R_ItemLayout xs="2">
            <R_Label>Product Id</R_Label>
        </R_ItemLayout>

        <R_ItemLayout xs="4">
            <R_NumericTextBox @bind-Value="@ProductViewModel.Data.ProductID"
                              R_ConductorSource="@_conductorProductRef"
                              Enabled="false"></R_NumericTextBox>
        </R_ItemLayout>
    </R_StackLayout>

    <R_StackLayout Row>
        <R_ItemLayout xs="2">
            <R_Label>Product Name</R_Label>
        </R_ItemLayout>

        <R_ItemLayout xs="4">
            <R_TextBox @bind-Value="@ProductViewModel.Data.ProductName"
                       R_ConductorSource="@_conductorProductRef"
                       R_EnableAdd="true"
                       R_EnableEdit="true"></R_TextBox>
        </R_ItemLayout>
    </R_StackLayout>

    <R_StackLayout Row>
        <R_ItemLayout xs="2">
            <R_Label>Unit Price</R_Label>
        </R_ItemLayout>

        <R_ItemLayout xs="4">
            <R_NumericTextBox @bind-Value="@ProductViewModel.Data.UnitPrice"
                              R_ConductorSource="@_conductorProductRef"
                              R_EnableAdd="true"
                              R_EnableEdit="true"></R_NumericTextBox>
        </R_ItemLayout>
    </R_StackLayout>

    <R_StackLayout Row>
        <R_ItemLayout xs="2">
            <R_Label>Discontinued</R_Label>
        </R_ItemLayout>

        <R_ItemLayout xs="4">
            <R_CheckBox @bind-Value="@ProductViewModel.Data.Discontinued"
                        R_ConductorSource="@_conductorProductRef"
                        R_EnableAdd="true"
                        R_EnableEdit="true"></R_CheckBox>
        </R_ItemLayout>
    </R_StackLayout>

    <R_StackLayout Row>
        <R_ItemLayout xs="2">
            <R_AddButton R_Conductor="@_conductorProductRef"></R_AddButton>
        </R_ItemLayout>

        <R_ItemLayout xs="2">
            <R_EditButton R_Conductor="@_conductorProductRef"></R_EditButton>
        </R_ItemLayout>

        <R_ItemLayout xs="2">
            <R_DeleteButton R_Conductor="@_conductorProductRef"></R_DeleteButton>
        </R_ItemLayout>

        <R_ItemLayout xs="2">
            <R_SaveButton R_Conductor="@_conductorProductRef"></R_SaveButton>
        </R_ItemLayout>

        <R_ItemLayout xs="2">
            <R_CancelButton R_Conductor="@_conductorProductRef"></R_CancelButton>
        </R_ItemLayout>
    </R_StackLayout>
</R_StackLayout>

<R_ConductorGrid @ref="@_conGridCategoryRef"
                 R_ViewModel="@CategoryViewModel"
                 R_IsHeader
                 R_Display="@Grid_Display"
                 R_ServiceGetRecord="@Grid_ServiceGetRecord"
                 R_ServiceSave="@Grid_ServiceSave"
                 R_ServiceDelete="@Grid_ServiceDelete">
</R_ConductorGrid>

<R_Conductor @ref="@_conductorProductRef"
             R_ViewModel="@ProductViewModel"
             R_ConductorParent="@_conGridCategoryRef"
             R_DisableCancelConfirmation="false"
             R_ServiceGetRecord="@ConductorProduct_ServiceGetRecord"></R_Conductor>
